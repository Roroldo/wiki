{"remainingRequest":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\ts-loader\\index.js??ref--13-1!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\MyProject\\MyWiki\\Wiki\\web\\src\\views\\admin\\admin-ebook.vue?vue&type=script&lang=ts","dependencies":[{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\src\\views\\admin\\admin-ebook.vue","mtime":1623050011000},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631892357225},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\ts-loader\\index.js","mtime":1631892359045},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631892357225},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1631892360081}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBvbk1vdW50ZWQsIHJlZiB9IGZyb20gJ3Z1ZSc7DQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudC1kZXNpZ24tdnVlJzsNCmltcG9ydCB7IFRvb2wgfSBmcm9tICJAL3V0aWwvdG9vbCI7DQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoew0KICAgIG5hbWU6ICdBZG1pbkVib29rJywNCiAgICBzZXR1cDogZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgcGFyYW0gPSByZWYoKTsNCiAgICAgICAgcGFyYW0udmFsdWUgPSB7fTsNCiAgICAgICAgdmFyIGVib29rcyA9IHJlZigpOw0KICAgICAgICB2YXIgcGFnaW5hdGlvbiA9IHJlZih7DQogICAgICAgICAgICBjdXJyZW50OiAxLA0KICAgICAgICAgICAgcGFnZVNpemU6IDUsDQogICAgICAgICAgICB0b3RhbDogMA0KICAgICAgICB9KTsNCiAgICAgICAgdmFyIGxvYWRpbmcgPSByZWYoZmFsc2UpOw0KICAgICAgICB2YXIgY29sdW1ucyA9IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WwgemdoicsDQogICAgICAgICAgICAgICAgZGF0YUluZGV4OiAnY292ZXInLA0KICAgICAgICAgICAgICAgIHNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ2NvdmVyJyB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOiAn5ZCN56ewJywNCiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICduYW1lJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ+WIhuexuycsDQogICAgICAgICAgICAgICAgc2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnY2F0ZWdvcnknIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICfmlofmoaPmlbAnLA0KICAgICAgICAgICAgICAgIGRhdGFJbmRleDogJ2RvY0NvdW50JywNCiAgICAgICAgICAgICAgICBzbG90czogeyBjdXN0b21SZW5kZXI6ICdkb2NDb3VudCcgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICfpmIXor7vmlbAnLA0KICAgICAgICAgICAgICAgIGRhdGFJbmRleDogJ3ZpZXdDb3VudCcsDQogICAgICAgICAgICAgICAgc2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAndmlld0NvdW50JyB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHRpdGxlOiAn54K56LWe5pWwJywNCiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICd2b3RlQ291bnQnLA0KICAgICAgICAgICAgICAgIHNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3ZvdGVDb3VudCcgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogJ0FjdGlvbicsDQogICAgICAgICAgICAgICAga2V5OiAnYWN0aW9uJywNCiAgICAgICAgICAgICAgICBzbG90czogeyBjdXN0b21SZW5kZXI6ICdhY3Rpb24nIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgXTsNCiAgICAgICAgLyoqDQogICAgICAgICAqIOaVsOaNruafpeivog0KICAgICAgICAgKi8NCiAgICAgICAgdmFyIGhhbmRsZVF1ZXJ5ID0gZnVuY3Rpb24gKHBhcmFtcykgew0KICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7DQogICAgICAgICAgICAvL+WmguaenOS4jea4heepuueOsOacieaVsOaNru+8jOWImee8lui+keS/neWtmOmHjeaWsOWKoOi9veaVsOaNruWQju+8jOWGjeeCuee8lui+keaYvuekuueahOi/mOaYr+e8lui+keWJjeeahOaVsOaNrg0KICAgICAgICAgICAgZWJvb2sudmFsdWUgPSBbXTsNCiAgICAgICAgICAgIGF4aW9zLmdldCgiL2Vib29rL2xpc3QiLCB7DQogICAgICAgICAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhcmFtcy5wYWdlLA0KICAgICAgICAgICAgICAgICAgICBzaXplOiBwYXJhbXMuc2l6ZSwNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFyYW0udmFsdWUubmFtZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIGVib29rcy52YWx1ZSA9IGRhdGEuY29udGVudC5saXN0Ow0KICAgICAgICAgICAgICAgICAgICAvL+mHjee9ruWIhumhteaMiemSrg0KICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLnZhbHVlLmN1cnJlbnQgPSBwYXJhbXMucGFnZTsNCiAgICAgICAgICAgICAgICAgICAgcGFnaW5hdGlvbi52YWx1ZS50b3RhbCA9IGRhdGEuY29udGVudC50b3RhbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgLyoqDQogICAgICAgICAqIOihqOagvOeCueWHu+mhteeggeaXtuinpuWPkQ0KICAgICAgICAgKi8NCiAgICAgICAgdmFyIGhhbmRsZVRhYmxlQ2hhbmdlID0gZnVuY3Rpb24gKHBhZ2luYXRpb24pIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnnIvnnIvoh6rluKbnmoTliIbpobXlj4LmlbDpg73mnInllaU6ICIgKyBwYWdpbmF0aW9uKTsNCiAgICAgICAgICAgIGhhbmRsZVF1ZXJ5KHsNCiAgICAgICAgICAgICAgICBwYWdlOiBwYWdpbmF0aW9uLmN1cnJlbnQsDQogICAgICAgICAgICAgICAgc2l6ZTogcGFnaW5hdGlvbi5wYWdlU2l6ZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH07DQogICAgICAgIC8vLS0tLS0tLS3ooajljZUtLS0tLS0tLQ0KICAgICAgICAvKioNCiAgICAgICAgICog5pWw57uEIFsxMDAsMTAxXeWvueW6lCDliY3nq6/lvIDlj5EgLyB2dWUNCiAgICAgICAgICovDQogICAgICAgIHZhciBjYXRlZ29yeUlkcyA9IHJlZigpOw0KICAgICAgICB2YXIgZWJvb2sgPSByZWYoKTsNCiAgICAgICAgdmFyIG1vZGFsVmlzaWJsZSA9IHJlZihmYWxzZSk7DQogICAgICAgIHZhciBtb2RhbExvYWRpbmcgPSByZWYoZmFsc2UpOw0KICAgICAgICB2YXIgaGFuZGxlTW9kYWxPayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIG1vZGFsTG9hZGluZy52YWx1ZSA9IHRydWU7DQogICAgICAgICAgICBlYm9vay52YWx1ZS5jYXRlZ29yeTFJZCA9IGNhdGVnb3J5SWRzLnZhbHVlWzBdOw0KICAgICAgICAgICAgZWJvb2sudmFsdWUuY2F0ZWdvcnkySWQgPSBjYXRlZ29yeUlkcy52YWx1ZVsxXTsNCiAgICAgICAgICAgIGF4aW9zLnBvc3QoIi9lYm9vay9zYXZlIiwgZWJvb2sudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLnZhbHVlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOyAvL2RhdGEgPSBDb21tb25SZXNwDQogICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICBtb2RhbFZpc2libGUudmFsdWUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDmiJDlip/vvIEnKTsNCiAgICAgICAgICAgICAgICAgICAgLy/ph43mlrDliqDovb3liJfooagNCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUXVlcnkoew0KICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnaW5hdGlvbi52YWx1ZS5jdXJyZW50LA0KICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogcGFnaW5hdGlvbi52YWx1ZS5wYWdlU2l6ZQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgLyoqDQogICAgICAgICAqIOe8lui+kQ0KICAgICAgICAgKi8NCiAgICAgICAgdmFyIGVkaXQgPSBmdW5jdGlvbiAocmVjb3JkKSB7DQogICAgICAgICAgICBtb2RhbFZpc2libGUudmFsdWUgPSB0cnVlOw0KICAgICAgICAgICAgZWJvb2sudmFsdWUgPSBUb29sLmNvcHkocmVjb3JkKTsNCiAgICAgICAgICAgIGNhdGVnb3J5SWRzLnZhbHVlID0gW2Vib29rLnZhbHVlLmNhdGVnb3J5MUlkLCBlYm9vay52YWx1ZS5jYXRlZ29yeTJJZF07DQogICAgICAgIH07DQogICAgICAgIC8qKg0KICAgICAgICAgKiDmlrDlop4NCiAgICAgICAgICovDQogICAgICAgIHZhciBhZGQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBtb2RhbFZpc2libGUudmFsdWUgPSB0cnVlOw0KICAgICAgICAgICAgZWJvb2sudmFsdWUgPSB7fTsNCiAgICAgICAgfTsNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWIoOmZpA0KICAgICAgICAgKi8NCiAgICAgICAgdmFyIGhhbmRsZURlbGV0ZSA9IGZ1bmN0aW9uIChpZCkgew0KICAgICAgICAgICAgYXhpb3MuZGVsZXRlKCIvZWJvb2svZGVsZXRlLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7IC8vZGF0YSA9IENvbW1vblJlc3ANCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5Yqf77yBJyk7DQogICAgICAgICAgICAgICAgICAgIC8v6YeN5paw5Yqg6L295YiX6KGoDQogICAgICAgICAgICAgICAgICAgIGhhbmRsZVF1ZXJ5KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2luYXRpb24udmFsdWUuY3VycmVudCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHBhZ2luYXRpb24udmFsdWUucGFnZVNpemUNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH07DQogICAgICAgIHZhciBsZXZlbDEgPSByZWYoKTsNCiAgICAgICAgdmFyIGNhdGVnb3J5czsNCiAgICAgICAgLyoqDQogICAgICAgICAqIOafpeivouaJgOacieWIhuexuw0KICAgICAgICAgKi8NCiAgICAgICAgdmFyIGhhbmRsZVF1ZXJ5Q2F0ZWdvcnkgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsNCiAgICAgICAgICAgIGF4aW9zLmdldCgiL2NhdGVnb3J5L2FsbCIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5cyA9IGRhdGEuY29udGVudDsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuWOn+Wni+aVsOe7hDogIiwgY2F0ZWdvcnlzKTsNCiAgICAgICAgICAgICAgICAgICAgbGV2ZWwxLnZhbHVlID0gW107DQogICAgICAgICAgICAgICAgICAgIGxldmVsMS52YWx1ZSA9IFRvb2wuYXJyYXkyVHJlZShjYXRlZ29yeXMsIDApOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5qCR5b2i57uT5p6EOiAiLCBsZXZlbDEudmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAvL+WKoOi9veWujOWIhuexu+WQju+8jOWGjeWKoOi9veeUteWtkOS5pu+8jOWQpuWImeWmguaenOWIhuexu+agkeWKoOi9veW+iOaFou+8jOWImeeUteWtkOS5pua4suafk+S8muaKpemUmQ0KICAgICAgICAgICAgICAgICAgICBoYW5kbGVRdWVyeSh7DQogICAgICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogcGFnaW5hdGlvbi52YWx1ZS5wYWdlU2l6ZQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgdmFyIGdldENhdGVnb3J5TmFtZSA9IGZ1bmN0aW9uIChjaWQpIHsNCiAgICAgICAgICAgIHZhciByZXN1bHQgPSAiIjsNCiAgICAgICAgICAgIGNhdGVnb3J5cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGNpZCkgew0KICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVtLm5hbWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgICAgICB9Ow0KICAgICAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaGFuZGxlUXVlcnlDYXRlZ29yeSgpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHBhcmFtOiBwYXJhbSwNCiAgICAgICAgICAgIGVib29rczogZWJvb2tzLA0KICAgICAgICAgICAgcGFnaW5hdGlvbjogcGFnaW5hdGlvbiwNCiAgICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsDQogICAgICAgICAgICBsb2FkaW5nOiBsb2FkaW5nLA0KICAgICAgICAgICAgaGFuZGxlVGFibGVDaGFuZ2U6IGhhbmRsZVRhYmxlQ2hhbmdlLA0KICAgICAgICAgICAgaGFuZGxlUXVlcnk6IGhhbmRsZVF1ZXJ5LA0KICAgICAgICAgICAgZ2V0Q2F0ZWdvcnlOYW1lOiBnZXRDYXRlZ29yeU5hbWUsDQogICAgICAgICAgICBlZGl0OiBlZGl0LA0KICAgICAgICAgICAgYWRkOiBhZGQsDQogICAgICAgICAgICBoYW5kbGVEZWxldGU6IGhhbmRsZURlbGV0ZSwNCiAgICAgICAgICAgIGVib29rOiBlYm9vaywNCiAgICAgICAgICAgIG1vZGFsVmlzaWJsZTogbW9kYWxWaXNpYmxlLA0KICAgICAgICAgICAgbW9kYWxMb2FkaW5nOiBtb2RhbExvYWRpbmcsDQogICAgICAgICAgICBoYW5kbGVNb2RhbE9rOiBoYW5kbGVNb2RhbE9rLA0KICAgICAgICAgICAgY2F0ZWdvcnlJZHM6IGNhdGVnb3J5SWRzLA0KICAgICAgICAgICAgbGV2ZWwxOiBsZXZlbDENCiAgICAgICAgfTsNCiAgICB9DQp9KTsNCg=="},{"version":3,"file":"F:\\MyProject\\MyWiki\\Wiki\\web\\src\\views\\admin\\admin-ebook.vue.ts","sourceRoot":"","sources":["F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\MyProject\\MyWiki\\Wiki\\web\\src\\views\\admin\\admin-ebook.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\n  import { defineComponent, onMounted, ref } from 'vue';\n  import axios from 'axios';\n  import { message } from 'ant-design-vue';\n  import {Tool} from \"@/util/tool\";\n\n  export default defineComponent({\n    name: 'AdminEbook',\n    setup(){\n      const param = ref();\n      param.value = {};\n      const ebooks = ref();\n      const pagination = ref({\n        current: 1,\n        pageSize: 5,\n        total: 0\n      });\n      const loading = ref(false);\n\n      const columns = [\n        {\n          title: '封面',\n          dataIndex: 'cover',\n          slots: { customRender: 'cover' }\n        },\n        {\n          title: '名称',\n          dataIndex: 'name'\n        },\n        {\n          title: '分类',\n          slots: { customRender: 'category' }\n        },\n        {\n          title: '文档数',\n          dataIndex: 'docCount',\n          slots: { customRender: 'docCount' },\n        },\n        {\n          title: '阅读数',\n          dataIndex: 'viewCount',\n          slots: { customRender: 'viewCount' }\n        },\n        {\n          title: '点赞数',\n          dataIndex: 'voteCount',\n          slots: { customRender: 'voteCount' }\n        },\n        {\n          title: 'Action',\n          key: 'action',\n          slots: { customRender: 'action' }\n        }\n      ];\n\n      /**\n       * 数据查询\n       */\n      const handleQuery = (params: any) => {\n        loading.value = true;\n        //如果不清空现有数据，则编辑保存重新加载数据后，再点编辑显示的还是编辑前的数据\n        ebook.value = [];\n        axios.get(\"/ebook/list\",{\n          params: {\n            page: params.page,\n            size: params.size,\n            name: param.value.name\n          }\n        }).then((response) => {\n          loading.value = false;\n          const data = response.data;\n          if (data.success){\n          ebooks.value = data.content.list;\n\n          //重置分页按钮\n          pagination.value.current = params.page;\n          pagination.value.total = data.content.total;\n          }else {\n            message.error(data.message);\n          }\n        });\n      };\n\n      /**\n       * 表格点击页码时触发\n       */\n      const handleTableChange = (pagination: any) => {\n        console.log(\"看看自带的分页参数都有啥: \" + pagination);\n        handleQuery({\n          page: pagination.current,\n          size: pagination.pageSize\n        });\n      };\n\n      //--------表单--------\n      /**\n       * 数组 [100,101]对应 前端开发 / vue\n       */\n      const categoryIds = ref();\n      const ebook = ref();\n      const modalVisible = ref(false);\n      const modalLoading = ref(false);\n      const handleModalOk = () => {\n        modalLoading.value = true;\n        ebook.value.category1Id = categoryIds.value[0];\n        ebook.value.category2Id = categoryIds.value[1];\n\n        axios.post(\"/ebook/save\",ebook.value).then((response) => {\n          modalLoading.value = false;\n          const data = response.data; //data = CommonResp\n          if (data.success){\n            modalVisible.value = false;\n            message.success('添加成功！');\n            //重新加载列表\n            handleQuery({\n              page: pagination.value.current,\n              size: pagination.value.pageSize\n            });\n          }else {\n            message.error(data.message);\n          }\n        });\n\n      };\n\n      /**\n       * 编辑\n       */\n      const edit = (record: any) => {\n        modalVisible.value = true;\n        ebook.value = Tool.copy(record);\n        categoryIds.value = [ebook.value.category1Id,ebook.value.category2Id];\n      };\n\n      /**\n       * 新增\n       */\n      const add = () => {\n        modalVisible.value = true;\n        ebook.value = {};\n      };\n\n      /**\n       * 删除\n       */\n      const handleDelete = (id: number) => {\n        axios.delete(\"/ebook/delete/\" + id).then((response) => {\n          const data = response.data; //data = CommonResp\n          if (data.success){\n            message.success('删除成功！');\n            //重新加载列表\n            handleQuery({\n              page: pagination.value.current,\n              size: pagination.value.pageSize\n            });\n          }\n        });\n      };\n\n      const level1 = ref();\n      let categorys: any;\n      /**\n       * 查询所有分类\n       */\n      const handleQueryCategory = () => {\n        loading.value = true;\n        axios.get(\"/category/all\").then((response) => {\n          loading.value = false;\n          const data = response.data;\n          if (data.success){\n            categorys = data.content;\n            console.log(\"原始数组: \",categorys);\n\n            level1.value = [];\n            level1.value = Tool.array2Tree(categorys,0);\n            console.log(\"树形结构: \",level1.value);\n\n            //加载完分类后，再加载电子书，否则如果分类树加载很慢，则电子书渲染会报错\n            handleQuery({\n              page: 1,\n              size: pagination.value.pageSize\n            });\n          }else {\n            message.error(data.message);\n          }\n        });\n      };\n\n      const getCategoryName = (cid: number) => {\n        let result = \"\";\n        categorys.forEach((item: any) => {\n          if (item.id === cid){\n            result = item.name;\n          }\n        });\n        return result;\n      };\n\n      onMounted(() => {\n        handleQueryCategory();\n\n      });\n\n      return {\n        param,\n        ebooks,\n        pagination,\n        columns,\n        loading,\n        handleTableChange,\n        handleQuery,\n        getCategoryName,\n\n        edit,\n        add,\n        handleDelete,\n\n        ebook,\n        modalVisible,\n        modalLoading,\n        handleModalOk,\n        categoryIds,\n        level1\n      }\n    }\n  });\n"]}]}