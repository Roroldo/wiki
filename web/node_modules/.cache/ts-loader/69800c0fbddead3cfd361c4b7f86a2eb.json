{"remainingRequest":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\ts-loader\\index.js??ref--13-1!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\MyProject\\MyWiki\\Wiki\\web\\src\\components\\the-header.vue?vue&type=script&lang=ts","dependencies":[{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\src\\components\\the-header.vue","mtime":1631103042395},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631892357225},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\ts-loader\\index.js","mtime":1631892359045},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631892357225},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1631892360081}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIGNvbXB1dGVkLCBoLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsNCmltcG9ydCB7IG1lc3NhZ2UsIG5vdGlmaWNhdGlvbiB9IGZyb20gImFudC1kZXNpZ24tdnVlIjsNCmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsNCmltcG9ydCBTbWlsZU91dGxpbmVkIGZyb20gIkBhbnQtZGVzaWduL2ljb25zLXZ1ZS9TbWlsZU91dGxpbmVkIjsNCmltcG9ydCB7IFRvb2wgfSBmcm9tICJAL3V0aWwvdG9vbCI7DQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoew0KICAgIG5hbWU6ICd0aGUtaGVhZGVyJywNCiAgICBzZXR1cDogZnVuY3Rpb24gKCkgew0KICAgICAgICAvLyDnmbvlvZXlkI7kv53lrZgNCiAgICAgICAgdmFyIHVzZXIgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5zdGF0ZS51c2VyOyB9KTsNCiAgICAgICAgLy8g5LuOdGhlLWZvb3Rlcuenu+akjei/h+adpeeahFdlYlNvY2tldA0KICAgICAgICB2YXIgd2Vic29ja2V0Ow0KICAgICAgICB2YXIgdG9rZW47DQogICAgICAgIC8vIOeZu+W9lQ0KICAgICAgICB2YXIgbG9naW5Vc2VyID0gcmVmKHsNCiAgICAgICAgICAgIGxvZ2luTmFtZTogIiIsDQogICAgICAgICAgICBwYXNzd29yZDogIiINCiAgICAgICAgfSk7DQogICAgICAgIHZhciBsb2dpbk5hbWUgPSByZWYoIiIpOw0KICAgICAgICB2YXIgcGFzc3dvcmQgPSByZWYoIiIpOw0KICAgICAgICB2YXIgbG9naW5Nb2RhbFZpc2libGUgPSByZWYoZmFsc2UpOw0KICAgICAgICB2YXIgbG9naW5Nb2RhbExvYWRpbmcgPSByZWYoZmFsc2UpOw0KICAgICAgICB2YXIgc2hvd0xvZ2luTW9kYWwgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBsb2dpbk1vZGFsVmlzaWJsZS52YWx1ZSA9IHRydWU7DQogICAgICAgIH07DQogICAgICAgIC8vIOW8gOWni+eZu+W9lQ0KICAgICAgICB2YXIgbG9naW4gPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygi5byA5aeL55m75b2VIik7DQogICAgICAgICAgICBsb2dpbk1vZGFsTG9hZGluZy52YWx1ZSA9IHRydWU7DQogICAgICAgICAgICBsb2dpblVzZXIudmFsdWUubG9naW5OYW1lID0gbG9naW5OYW1lLnZhbHVlOw0KICAgICAgICAgICAgbG9naW5Vc2VyLnZhbHVlLnBhc3N3b3JkID0gaGV4TWQ1KHBhc3N3b3JkLnZhbHVlICsgS0VZKTsNCiAgICAgICAgICAgIGF4aW9zLnBvc3QoJy91c2VyL2xvZ2luJywgbG9naW5Vc2VyLnZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgIGxvZ2luTW9kYWxMb2FkaW5nLnZhbHVlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgbG9naW5Nb2RhbFZpc2libGUudmFsdWUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCLnmbvlvZXmiJDlip8hIik7DQogICAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlciIsIGRhdGEuY29udGVudCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH07DQogICAgICAgIC8vIOmAgOWHuueZu+W9lQ0KICAgICAgICB2YXIgbG9nb3V0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIumAgOWHuueZu+W9lSIpOw0KICAgICAgICAgICAgYXhpb3MuZ2V0KCcvdXNlci9sb2dvdXQvJyArIHVzZXIudmFsdWUudG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCLmiJDlip/pgIDlh7ohIik7DQogICAgICAgICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0VXNlciIsIHt9KTsNCiAgICAgICAgICAgICAgICAgICAgbG9naW5OYW1lLnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkLnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgICAgIC8v6YCA5Ye655m75b2V5ZCO5Yi35paw6aG16Z2i6Lez5Zue6aaW6aG1DQogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lcnJvcihkYXRhLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9Ow0KICAgICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09DQogICAgICAgIC8vIOS7jnRoZS1mb290ZXLnp7vmpI3ov4fmnaXnmoRXZWJTb2NrZXQNCiAgICAgICAgdmFyIG9uT3BlbiA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXTov57mjqXmiJDlip8s54q25oCB56CBOicsIHdlYnNvY2tldC5yZWFkeVN0YXRlKTsNCiAgICAgICAgfTsNCiAgICAgICAgdmFyIG9uTWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldOaUtuWIsOa2iOaBrzogJywgZXZlbnQuZGF0YSk7DQogICAgICAgICAgICBub3RpZmljYXRpb24ub3Blbih7DQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+aUtuWIsOa2iOaBrycsDQogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGV2ZW50LmRhdGEsDQogICAgICAgICAgICAgICAgaWNvbjogaChTbWlsZU91dGxpbmVkLCB7IHN0eWxlOiAnY29sb3I6ICMxMDhlZTknIH0pLA0KICAgICAgICAgICAgfSk7DQogICAgICAgIH07DQogICAgICAgIHZhciBvbkVycm9yID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldOi/nuaOpemUmeivr++8jOeKtuaAgeeggTogJywgd2Vic29ja2V0LnJlYWR5U3RhdGUpOw0KICAgICAgICB9Ow0KICAgICAgICB2YXIgb25DbG9zZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXTov57mjqXlhbPpl63vvIznirbmgIHnoIE6ICcsIHdlYnNvY2tldC5yZWFkeVN0YXRlKTsNCiAgICAgICAgfTsNCiAgICAgICAgdmFyIGluaXRXZWJTb2NrZXQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAvLyDov57mjqXmiJDlip8NCiAgICAgICAgICAgIHdlYnNvY2tldC5vbm9wZW4gPSBvbk9wZW47DQogICAgICAgICAgICAvLyDmlLbliLDmtojmga/ml7bnmoTlm57osIMNCiAgICAgICAgICAgIHdlYnNvY2tldC5vbm1lc3NhZ2UgPSBvbk1lc3NhZ2U7DQogICAgICAgICAgICAvLyDov57mjqXplJnor68NCiAgICAgICAgICAgIHdlYnNvY2tldC5vbmVycm9yID0gb25FcnJvcjsNCiAgICAgICAgICAgIC8vIOi/nuaOpeWFs+mXreeahOWbnuiwgw0KICAgICAgICAgICAgd2Vic29ja2V0Lm9uY2xvc2UgPSBvbkNsb3NlOw0KICAgICAgICB9Ow0KICAgICAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgLy8gV2ViU29ja2V0DQogICAgICAgICAgICBpZiAoJ1dlYlNvY2tldCcgaW4gd2luZG93KSB7DQogICAgICAgICAgICAgICAgdG9rZW4gPSBUb29sLnV1aWQoMTApOw0KICAgICAgICAgICAgICAgIC8vIOi/nuaOpeWcsOWdgDp3czovLzEyNy4wLjAuMTo4MDgxL3dzL3h4eA0KICAgICAgICAgICAgICAgIHdlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9XU19TRVJWRVIgKyAnL3dzLycgKyB0b2tlbik7DQogICAgICAgICAgICAgICAgaW5pdFdlYlNvY2tldCgpOw0KICAgICAgICAgICAgICAgIC8vIOWFs+mXrQ0KICAgICAgICAgICAgICAgIC8vIHdlYnNvY2tldC5jbG9zZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgYWxlcnQoJ+W9k+WJjea1j+iniOWZqOS4jeaUr+aMgScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGxvZ2luTW9kYWxWaXNpYmxlOiBsb2dpbk1vZGFsVmlzaWJsZSwNCiAgICAgICAgICAgIGxvZ2luTW9kYWxMb2FkaW5nOiBsb2dpbk1vZGFsTG9hZGluZywNCiAgICAgICAgICAgIHNob3dMb2dpbk1vZGFsOiBzaG93TG9naW5Nb2RhbCwNCiAgICAgICAgICAgIGxvZ2luVXNlcjogbG9naW5Vc2VyLA0KICAgICAgICAgICAgbG9naW46IGxvZ2luLA0KICAgICAgICAgICAgdXNlcjogdXNlciwNCiAgICAgICAgICAgIGxvZ291dDogbG9nb3V0LA0KICAgICAgICAgICAgbG9naW5OYW1lOiBsb2dpbk5hbWUsDQogICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQNCiAgICAgICAgfTsNCiAgICB9DQp9KTsNCg=="},{"version":3,"file":"F:\\MyProject\\MyWiki\\Wiki\\web\\src\\components\\the-header.vue.ts","sourceRoot":"","sources":["F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!F:\\MyProject\\MyWiki\\Wiki\\web\\src\\components\\the-header.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\n    import {defineComponent, ref, computed, h, onMounted} from 'vue';\n    import axios from 'axios';\n    import {message, notification} from \"ant-design-vue\";\n    import store from \"@/store\";\n    import SmileOutlined from \"@ant-design/icons-vue/SmileOutlined\";\n    import {Tool} from \"@/util/tool\";\n\n    declare let hexMd5: any;\n    declare let KEY: any;\n\n    export default defineComponent({\n        name: 'the-header',\n        setup () {\n            // 登录后保存\n            const user = computed(() => store.state.user);\n\n            // 从the-footer移植过来的WebSocket\n            let websocket: any;\n            let token: any;\n\n            // 登录\n            const loginUser = ref({\n               loginName: \"\",\n                password: \"\"\n            });\n            const loginName = ref(\"\");\n            const password = ref(\"\");\n            const loginModalVisible = ref(false);\n            const loginModalLoading = ref(false);\n            const showLoginModal = () => {\n                loginModalVisible.value = true;\n            }\n\n            // 开始登录\n            const login = () => {\n                console.log(\"开始登录\");\n                loginModalLoading.value = true;\n                loginUser.value.loginName = loginName.value;\n                loginUser.value.password = hexMd5(password.value + KEY);\n                axios.post('/user/login', loginUser.value).then((response) => {\n                    loginModalLoading.value = false;\n                    const data = response.data;\n                    if (data.success) {\n                        loginModalVisible.value = false;\n                        message.success(\"登录成功!\");\n                        store.commit(\"setUser\", data.content);\n                    } else {\n                        message.error(data.message);\n                    }\n                });\n            };\n\n            // 退出登录\n            const logout = () => {\n                console.log(\"退出登录\");\n                axios.get('/user/logout/' + user.value.token).then((response) => {\n                    const data = response.data;\n                    if (data.success) {\n                        message.success(\"成功退出!\");\n                        store.commit(\"setUser\", {});\n                        loginName.value = \"\";\n                        password.value = \"\";\n                        //退出登录后刷新页面跳回首页\n                        location.reload();\n                    } else {\n                        message.error(data.message);\n                    }\n                });\n            };\n\n// ==========================================================\n            // 从the-footer移植过来的WebSocket\n            const onOpen = () => {\n                console.log('WebSocket连接成功,状态码:', websocket.readyState);\n            };\n            const onMessage = (event: any) => {\n                console.log('WebSocket收到消息: ', event.data);\n                notification.open({\n                    message: '收到消息',\n                    description: event.data,\n                    icon: h(SmileOutlined, { style: 'color: #108ee9' }),\n                });\n            };\n            const onError = () => {\n                console.log('WebSocket连接错误，状态码: ', websocket.readyState);\n            };\n            const onClose = () => {\n                console.log('WebSocket连接关闭，状态码: ', websocket.readyState);\n            };\n            const initWebSocket = () => {\n                // 连接成功\n                websocket.onopen = onOpen;\n                // 收到消息时的回调\n                websocket.onmessage = onMessage;\n                // 连接错误\n                websocket.onerror = onError;\n                // 连接关闭的回调\n                websocket.onclose = onClose;\n            };\n\n            onMounted(() => {\n                // WebSocket\n                if ('WebSocket' in window) {\n                    token = Tool.uuid(10);\n                    // 连接地址:ws://127.0.0.1:8081/ws/xxx\n                    websocket = new WebSocket(process.env.VUE_APP_WS_SERVER + '/ws/' + token);\n                    initWebSocket();\n\n                    // 关闭\n                    // websocket.close();\n                } else {\n                    alert('当前浏览器不支持');\n                }\n            });\n\n\n            return {\n                loginModalVisible,\n                loginModalLoading,\n                showLoginModal,\n                loginUser,\n                login,\n                user,\n                logout,\n                loginName,\n                password\n            }\n        }\n    });\n"]}]}