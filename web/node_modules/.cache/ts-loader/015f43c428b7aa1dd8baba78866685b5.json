{"remainingRequest":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\ts-loader\\index.js??ref--13-1!F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\MyProject\\MyWiki\\Wiki\\web\\src\\router\\index.ts","dependencies":[{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\src\\router\\index.ts","mtime":1623050011000},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1631892357225},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\ts-loader\\index.js","mtime":1631892359045},{"path":"F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\eslint-loader\\index.js","mtime":1631892357618}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSAndnVlLXJvdXRlcic7DQppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9ob21lLnZ1ZSc7DQppbXBvcnQgQWJvdXQgZnJvbSAnLi4vdmlld3MvYWJvdXQudnVlJzsNCmltcG9ydCBEb2MgZnJvbSAnLi4vdmlld3MvZG9jLnZ1ZSc7DQppbXBvcnQgQWRtaW5Vc2VyIGZyb20gJy4uL3ZpZXdzL2FkbWluL2FkbWluLXVzZXIudnVlJzsNCmltcG9ydCBBZG1pbkVib29rIGZyb20gJy4uL3ZpZXdzL2FkbWluL2FkbWluLWVib29rLnZ1ZSc7DQppbXBvcnQgQWRtaW5DYXRlZ29yeSBmcm9tICcuLi92aWV3cy9hZG1pbi9hZG1pbi1jYXRlZ29yeS52dWUnOw0KaW1wb3J0IEFkbWluRG9jIGZyb20gJy4uL3ZpZXdzL2FkbWluL2FkbWluLWRvYy52dWUnOw0KaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOw0KaW1wb3J0IHsgVG9vbCB9IGZyb20gIkAvdXRpbC90b29sIjsNCnZhciByb3V0ZXMgPSBbDQogICAgew0KICAgICAgICBwYXRoOiAnLycsDQogICAgICAgIG5hbWU6ICdIb21lJywNCiAgICAgICAgY29tcG9uZW50OiBIb21lDQogICAgfSwNCiAgICB7DQogICAgICAgIHBhdGg6ICcvYWJvdXQnLA0KICAgICAgICBuYW1lOiAnQWJvdXQnLA0KICAgICAgICBjb21wb25lbnQ6IEFib3V0DQogICAgICAgIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nDQogICAgICAgIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUNCiAgICAgICAgLy8gd2hpY2ggaXMgbGF6eS1sb2FkZWQgd2hlbiB0aGUgcm91dGUgaXMgdmlzaXRlZC4NCiAgICAgICAgLy8gY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLyAnLi4vdmlld3MvYWJvdXQudnVlJykNCiAgICB9LA0KICAgIHsNCiAgICAgICAgcGF0aDogJy9hZG1pbi91c2VyJywNCiAgICAgICAgbmFtZTogJ0FkbWluVXNlcicsDQogICAgICAgIGNvbXBvbmVudDogQWRtaW5Vc2VyLA0KICAgICAgICBtZXRhOiB7DQogICAgICAgICAgICBsb2dpblJlcXVpcmU6IHRydWUNCiAgICAgICAgfQ0KICAgIH0sDQogICAgew0KICAgICAgICBwYXRoOiAnL2FkbWluL2Vib29rJywNCiAgICAgICAgbmFtZTogJ0FkbWluRWJvb2snLA0KICAgICAgICBjb21wb25lbnQ6IEFkbWluRWJvb2ssDQogICAgICAgIG1ldGE6IHsNCiAgICAgICAgICAgIGxvZ2luUmVxdWlyZTogdHJ1ZQ0KICAgICAgICB9DQogICAgfSwNCiAgICB7DQogICAgICAgIHBhdGg6ICcvYWRtaW4vY2F0ZWdvcnknLA0KICAgICAgICBuYW1lOiAnQWRtaW5DYXRlZ29yeScsDQogICAgICAgIGNvbXBvbmVudDogQWRtaW5DYXRlZ29yeSwNCiAgICAgICAgbWV0YTogew0KICAgICAgICAgICAgbG9naW5SZXF1aXJlOiB0cnVlDQogICAgICAgIH0NCiAgICB9LA0KICAgIHsNCiAgICAgICAgcGF0aDogJy9hZG1pbi9kb2MnLA0KICAgICAgICBuYW1lOiAnQWRtaW5Eb2MnLA0KICAgICAgICBjb21wb25lbnQ6IEFkbWluRG9jLA0KICAgICAgICBtZXRhOiB7DQogICAgICAgICAgICBsb2dpblJlcXVpcmU6IHRydWUNCiAgICAgICAgfQ0KICAgIH0sDQogICAgew0KICAgICAgICBwYXRoOiAnL2RvYycsDQogICAgICAgIG5hbWU6ICdEb2MnLA0KICAgICAgICBjb21wb25lbnQ6IERvYw0KICAgIH0NCl07DQp2YXIgcm91dGVyID0gY3JlYXRlUm91dGVyKHsNCiAgICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KHByb2Nlc3MuZW52LkJBU0VfVVJMKSwNCiAgICByb3V0ZXM6IHJvdXRlcw0KfSk7DQovLyDot6/nlLHnmbvlvZXmi6bmiKoNCnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgew0KICAgIC8v6KaB5LiN6KaB5a+5bWV0YS5sb2dpblJlcXVpcmXlsZ7mgKflgZrmi6bmiKrnm5HmjqcNCiAgICBpZiAodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChpdGVtKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGl0ZW0sICLmmK/lkKbpnIDopoHnmbvlvZXmoKHpqow6ICIsIGl0ZW0ubWV0YS5sb2dpblJlcXVpcmUpOw0KICAgICAgICByZXR1cm4gaXRlbS5tZXRhLmxvZ2luUmVxdWlyZTsNCiAgICB9KSkgew0KICAgICAgICB2YXIgbG9naW5Vc2VyID0gc3RvcmUuc3RhdGUudXNlcjsNCiAgICAgICAgaWYgKFRvb2wuaXNFbXB0eShsb2dpblVzZXIpKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygi55So5oi35pyq55m75b2VISIpOw0KICAgICAgICAgICAgbmV4dCgnLycpOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgbmV4dCgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGVsc2Ugew0KICAgICAgICBuZXh0KCk7DQogICAgfQ0KfSk7DQpleHBvcnQgZGVmYXVsdCByb3V0ZXI7DQo="},{"version":3,"file":"F:\\MyProject\\MyWiki\\Wiki\\web\\src\\router\\index.ts","sourceRoot":"","sources":["F:\\MyProject\\MyWiki\\Wiki\\web\\node_modules\\eslint-loader\\index.js??ref--12-0!F:\\MyProject\\MyWiki\\Wiki\\web\\src\\router\\index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,gBAAgB,EAAkB,MAAM,YAAY,CAAA;AAC3E,OAAO,IAAI,MAAM,mBAAmB,CAAA;AACpC,OAAO,KAAK,MAAM,oBAAoB,CAAA;AACtC,OAAO,GAAG,MAAM,kBAAkB,CAAA;AAClC,OAAO,SAAS,MAAM,+BAA+B,CAAA;AACrD,OAAO,UAAU,MAAM,gCAAgC,CAAA;AACvD,OAAO,aAAa,MAAM,mCAAmC,CAAA;AAC7D,OAAO,QAAQ,MAAM,8BAA8B,CAAA;AACnD,OAAO,KAAK,MAAM,SAAS,CAAC;AAC5B,OAAO,EAAC,IAAI,EAAC,MAAM,aAAa,CAAC;AAGjC,IAAM,MAAM,GAA0B;IACpC;QACE,IAAI,EAAE,GAAG;QACT,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,IAAI;KAChB;IACD;QACE,IAAI,EAAE,QAAQ;QACd,IAAI,EAAE,OAAO;QACb,SAAS,EAAE,KAAK;QAChB,6BAA6B;QAC7B,mEAAmE;QACnE,kDAAkD;QAClD,gFAAgF;KACjF;IACD;QACE,IAAI,EAAE,aAAa;QACnB,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,SAAS;QACpB,IAAI,EAAE;YACJ,YAAY,EAAC,IAAI;SAClB;KACF;IACD;QACE,IAAI,EAAE,cAAc;QACpB,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,UAAU;QACrB,IAAI,EAAE;YACJ,YAAY,EAAC,IAAI;SAClB;KACF;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,IAAI,EAAE,eAAe;QACrB,SAAS,EAAE,aAAa;QACxB,IAAI,EAAE;YACJ,YAAY,EAAC,IAAI;SAClB;KACF;IACD;QACE,IAAI,EAAE,YAAY;QAClB,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,QAAQ;QACnB,IAAI,EAAE;YACJ,YAAY,EAAC,IAAI;SAClB;KACF;IACD;QACE,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,KAAK;QACX,SAAS,EAAE,GAAG;KACf;CACF,CAAA;AAED,IAAM,MAAM,GAAG,YAAY,CAAC;IAC1B,OAAO,EAAE,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;IAC/C,MAAM,QAAA;CACP,CAAC,CAAC;AAEH,SAAS;AACT,MAAM,CAAC,UAAU,CAAC,UAAC,EAAE,EAAE,IAAI,EAAE,IAAI;IAC/B,8BAA8B;IAC9B,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI;QAChC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACxD,OAAO,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC;IAChC,CAAC,CAAC,EAAE;QACF,IAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;QACnC,IAAI,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;YAC3B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtB,IAAI,CAAC,GAAG,CAAC,CAAC;SACX;aAAM;YACL,IAAI,EAAE,CAAC;SACR;KACF;SAAM;QACL,IAAI,EAAE,CAAC;KACR;AACH,CAAC,CAAC,CAAC;AAEH,eAAe,MAAM,CAAA","sourcesContent":["import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '../views/home.vue'\nimport About from '../views/about.vue'\nimport Doc from '../views/doc.vue'\nimport AdminUser from '../views/admin/admin-user.vue'\nimport AdminEbook from '../views/admin/admin-ebook.vue'\nimport AdminCategory from '../views/admin/admin-category.vue'\nimport AdminDoc from '../views/admin/admin-doc.vue'\nimport store from \"@/store\";\nimport {Tool} from \"@/util/tool\";\n\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: About\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/about.vue')\n  },\n  {\n    path: '/admin/user',\n    name: 'AdminUser',\n    component: AdminUser,\n    meta: {\n      loginRequire:true\n    }\n  },\n  {\n    path: '/admin/ebook',\n    name: 'AdminEbook',\n    component: AdminEbook,\n    meta: {\n      loginRequire:true\n    }\n  },\n  {\n    path: '/admin/category',\n    name: 'AdminCategory',\n    component: AdminCategory,\n    meta: {\n      loginRequire:true\n    }\n  },\n  {\n    path: '/admin/doc',\n    name: 'AdminDoc',\n    component: AdminDoc,\n    meta: {\n      loginRequire:true\n    }\n  },\n  {\n    path: '/doc',\n    name: 'Doc',\n    component: Doc\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// 路由登录拦截\nrouter.beforeEach((to, from, next) => {\n  //要不要对meta.loginRequire属性做拦截监控\n  if (to.matched.some(function (item) {\n    console.log(item, \"是否需要登录校验: \", item.meta.loginRequire);\n    return item.meta.loginRequire;\n  })) {\n    const loginUser = store.state.user;\n    if (Tool.isEmpty(loginUser)) {\n      console.log(\"用户未登录!\");\n      next('/');\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\n\nexport default router\n"]}]}